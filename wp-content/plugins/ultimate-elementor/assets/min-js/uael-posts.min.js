!function(e){var t=!0,a=1,i="",o=0;function d(t){var a=t.find(".uael-post-wrapper"),i=t.find(".slick-active"),o=-1,d=-1,r=-1;"yes"==t.data("equal-height")&&(i.each(function(t){var a=e(this).outerHeight(),i=e(this).find(".uael-post__bg-wrap").outerHeight();o<i&&(r=(o=i)+15),d<a&&(d=a)}),i.each(function(t){e(this).find(".uael-post__bg-wrap").animate({height:o},{duration:200,easing:"linear"})}),t.find(".slick-list.draggable").animate({height:r},{duration:200,easing:"linear"}),o=-1,d=-1,a.each(function(){var e=jQuery(this),t=e.find(".uael-post__bg-wrap"),a=(e.find(".uael-post__inner-wrap"),t.outerHeight());if(e.hasClass("slick-active"))return!0;t.css("height",a)}))}var r=function(e,r){if(void 0!==e){var l=e.find(".uael-post-grid__inner");i=e.find(".uael-post-inf-loader");var u=e.find(".uael-filters-dropdown-list");if(!(l.length<1)){r("html").on("click",function(){u.removeClass("show-list")}),e.on("click",".uael-filters-dropdown-button",function(e){e.stopPropagation(),u.toggleClass("show-list")});var f=e.find(".uael-post-grid").data("layout"),p=e.find(".uael-post-grid").data("structure");if("masonry"==p&&e.imagesLoaded(function(e){l.isotope({layoutMode:f,itemSelector:".uael-post-wrapper"})}),e.find(".uael-post__header-filter").off("click").on("click",function(t){$this=r(this),$this.siblings().removeClass("uael-filter__current"),$this.addClass("uael-filter__current");var i=$this.attr("data-filter");if("*"===i?e.find(".uael-post-grid").data("filter-default"):i.substr(1),e.find(".uael-post-grid").data("default-filter"))var o=e.find(".uael-post-grid").data("default-filter");else o=e.find(".uael-post-grid").data("filter-default");var d=e.find(".uael-filter__current").text();d=d.substring(o.length,d.length),e.find(".uael-filters-dropdown-button").text(d),a=1,s(e,$this)}),e.find(".uael-post__header-filter").off("keyup").on("keyup",function(t){if($this=r(this),9==t.keyCode){$this.siblings().removeClass("uael-filter__current"),$this.addClass("uael-filter__current");var i=$this.attr("data-filter");if("*"===i?e.find(".uael-post-grid").data("filter-default"):i.substr(1),e.find(".uael-post-grid").data("default-filter"))var o=e.find(".uael-post-grid").data("default-filter");else o=e.find(".uael-post-grid").data("filter-default");var d=e.find(".uael-filter__current").text();d=d.substring(o.length,d.length),e.find(".uael-filters-dropdown-button").text(d),a=1,s(e,$this)}}),e.find(".uael-post__header").children().length>0){var c=e.find(".uael-post-grid").data("default-filter"),g=window.location.hash.substring(1),_=new RegExp("^[\\w\\-]+$");e.find(".uael-post__header-filters");""!==g&&_.test(g)&&e.find(".uael-post__header-filter").each(function(e,t){var a=r(this).attr("data-filter");g==a.split(".").join("")&&(r(this).trigger("click"),r(this).trigger("keyup"))}),void 0!==c&&""!=c&&e.find(".uael-post__header-filter").each(function(e,t){c==r(this).text()&&(r(this).trigger("click"),r(this).trigger("keyup"))})}if("carousel"==p){var h=e.find(".uael-post-grid"),v=h.find(".uael-post-grid__inner"),m=h.data("post_slider");e.imagesLoaded(function(){v.slick(m),d(h)}),h.on("afterChange",function(){d(h)}),r(window).on("resize",function(){r("#log").append("<div>Handler for .resize() called.</div>")})}if(l.hasClass("uael-post-infinite-scroll")&&l.hasClass("uael-post-infinite__event-scroll")){if("main"==e.find(".uael-post-grid").data("query-type"))return;var w=jQuery(window).outerHeight()/1.25;r(window).on("scroll",function(){if(elementorFrontend.isEditMode())return i.show(),!1;if(r(window).scrollTop()+w>=e.find(".uael-post-wrapper:last").offset().top){var d={page_id:e.find(".uael-post-grid").data("page"),widget_id:e.data("id"),filter:e.find(".uael-filter__current").data("filter"),skin:e.find(".uael-post-grid").data("skin"),page_number:e.find(".uael-post__footer .uael-grid-pagination").data("next-page")};o=e.find(".uael-post__footer .uael-grid-pagination").data("total"),1==t&&a<o&&(i.show(),n(e,d,!0),a++,t=!1)}})}}}};e(document).on("click",".uael-post__load-more",function(d){if($scope=e(this).closest(".elementor-widget-uael-posts"),"main"!=$scope.find(".uael-post-grid").data("query-type")){if(d.preventDefault(),elementorFrontend.isEditMode())return i.show(),!1;var r={page_id:$scope.find(".uael-post-grid").data("page"),widget_id:$scope.data("id"),filter:$scope.find(".uael-filter__current").data("filter"),skin:$scope.find(".uael-post-grid").data("skin"),page_number:a+1};o=$scope.find(".uael-post__footer .uael-grid-pagination").data("total"),1==t&&a<o&&(i.show(),e(this).hide(),n($scope,r,!0),a++,t=!1)}}),e("body").on("click",".uael-grid-pagination .page-numbers",function(t){if($scope=e(this).closest(".elementor-widget-uael-posts"),"main"!=$scope.find(".uael-post-grid").data("query-type")){t.preventDefault(),$scope.find(".uael-post-grid .uael-post-wrapper").last().after('<div class="uael-post-loader"><div class="uael-loader"></div><div class="uael-loader-overlay"></div></div>');var a=1,i=parseInt($scope.find(".uael-grid-pagination .page-numbers.current").html());a=e(this).hasClass("next")?i+1:e(this).hasClass("prev")?i-1:e(this).html(),$scope.find(".uael-post-grid .uael-post-wrapper").last().after('<div class="uael-post-loader"><div class="uael-loader"></div><div class="uael-loader-overlay"></div></div>');var o={page_id:$scope.find(".uael-post-grid").data("page"),widget_id:$scope.data("id"),filter:$scope.find(".uael-filter__current").data("filter"),skin:$scope.find(".uael-post-grid").data("skin"),page_number:a},d=$scope.find(".uael-post-grid").data("offset-top");""!=$scope.find(".uael-post-grid").data("filter-default")&&(d=$scope.find(".uael-post__header-filters").outerHeight()+parseFloat($scope.find(".uael-post__header .uael-post__header-filters-wrap").css("marginBottom"))),e("html, body").animate({scrollTop:$scope.find(".uael-post__body").offset().top-d},"slow"),n($scope,o)}});var s=function(e,t){e.find(".uael-post-grid .uael-post-wrapper").last().after('<div class="uael-post-loader"><div class="uael-loader"></div><div class="uael-loader-overlay"></div></div>');var a={page_id:e.find(".uael-post-grid").data("page"),widget_id:e.data("id"),filter:t.data("filter"),skin:e.find(".uael-post-grid").data("skin"),page_number:1};n(e,a)},n=function(d,r,s){e.ajax({url:uael_posts_script.ajax_url,data:{action:"uael_get_post",page_id:r.page_id,widget_id:r.widget_id,category:r.filter,skin:r.skin,page_number:r.page_number,nonce:uael_posts_script.posts_nonce},dataType:"json",type:"POST",success:function(e){d.find(".uael-post-loader").remove();var n=d.find(".uael-post-grid__inner");if("news"==r.skin&&(n=d.find(".uael-post-grid")),1==s){var l=e.data.html;l=l.replace("uael-post-wrapper-featured",""),n.append(l)}else n.html(e.data.html);d.find(".uael-post__footer").html(e.data.pagination);var u=d.find(".uael-post-grid").data("layout"),f=d.find(".uael-post-grid").data("structure"),p=d.find(".uael-post-grid__inner");"normal"!=f&&"masonry"!=f||""==u||d.imagesLoaded(function(e){p.isotope("reloadItems"),p.isotope({layoutMode:u,itemSelector:".uael-post-wrapper",animate:!1})}),t=!0,1==s&&(i.hide(),d.find(".uael-post__load-more").show()),a==o&&d.find(".uael-post__load-more").hide()}})};e(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/uael-posts.classic",r),elementorFrontend.hooks.addAction("frontend/element_ready/uael-posts.event",r),elementorFrontend.hooks.addAction("frontend/element_ready/uael-posts.card",r),elementorFrontend.hooks.addAction("frontend/element_ready/uael-posts.feed",r),elementorFrontend.hooks.addAction("frontend/element_ready/uael-posts.news",r),elementorFrontend.hooks.addAction("frontend/element_ready/uael-posts.business",r)})}(jQuery);