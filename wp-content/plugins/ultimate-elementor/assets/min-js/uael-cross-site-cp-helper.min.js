"use strict";window.XsUtils=window.XsUtils||function(){return{extend:function(e,n){var t,i=n||{};for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}}}(),window.xsLocalStorage=window.xsLocalStorage||function(){var e,n="cross-domain-local-message-uae",t={iframeId:"cross-domain-iframe-uae",iframeUrl:void 0,initCallback:function(){}},i=-1,a={},o=!1,r=!0;function c(e){var i;try{i=JSON.parse(e.data)}catch(e){}i&&i.namespace===n&&("iframe-ready"===i.id?(r=!0,t.initCallback()):function(e){a[e.id]&&(a[e.id](e),delete a[e.id])}(i))}function d(t,o,r,c){a[++i]=c;var d={namespace:n,id:i,action:t,key:o,value:r};e.contentWindow.postMessage(JSON.stringify(d),"*")}function u(n){t=XsUtils.extend(n,t);var i=document.createElement("div");window.addEventListener?window.addEventListener("message",c,!1):window.attachEvent("onmessage",c),i.innerHTML='<iframe id="'+t.iframeId+'" src='+t.iframeUrl+' style="display: none;"></iframe>',document.body.appendChild(i),e=document.getElementById(t.iframeId)}function l(){return!!o&&!!r}function s(){return"complete"===document.readyState}return{init:function(e){if(!e.iframeUrl)throw"Please specify the iframe URL";o||(o=!0,s()?u(e):document.addEventListener?document.addEventListener("readystatechange",function(){s()&&u(e)}):document.attachEvent("readystatechange",function(){s()&&u(e)}))},setItem:function(e,n,t){l()&&d("set",e,n,t)},getItem:function(e,n){l()&&d("get",e,null,n)},removeItem:function(e,n){l()&&d("remove",e,null,n)},key:function(e,n){l()&&d("key",e,null,n)},getSize:function(e){l()&&d("size",null,null,e)},getLength:function(e){l()&&d("length",null,null,e)},clear:function(e){l()&&d("clear",null,null,e)},wasInit:function(){return o}}}();