{"version":3,"file":"js/wphb-global.min.js","mappings":"CAEA,WACC,aAEA,IAAMA,EAAa,CAClBC,KADkB,WAEjBC,KAAKC,wBACLD,KAAKE,4BACLF,KAAKG,+BACLH,KAAKI,2BAUNC,WAfkB,SAeNC,GACXC,OACEC,KAAM,CACNC,IAAKC,WAAWC,QAChBC,OAAQ,OACRC,KAAM,CACLC,MAAOJ,WAAWI,MAClBC,OAAQ,oBACRC,QAAS,CAAEV,MAGZW,MAAM,WACNC,SAASC,aASZlB,sBApCkB,WAoCM,WACjBmB,EAAMC,SAASC,eACpB,qCAGMF,GAIPA,EAAIG,iBAAkB,SAAS,kBAC9B,EAAKC,KAAM,+BAObtB,0BArDkB,WAsDjB,IAAMkB,EAAMC,SAASI,cACpB,mDAGML,GAIPA,EAAIG,iBAAkB,SAAS,gBACzB,IAAuBG,OAAOC,WAMnCD,OAAOE,IAAIC,UACV,aACA,SACA,kBARAH,OAAOR,SAASY,KACf,qEAeJ3B,6BAhFkB,WAgFa,WACxBiB,EAAMC,SAASC,eACpB,oCAGMF,GAIPA,EAAIG,iBAAkB,SAAS,kBAC9B,EAAKC,KAAM,+BASbpB,wBAnGkB,WAmGQ,WACnBgB,EAAMC,SAASI,cACpB,2CAGML,GAIPA,EAAIG,iBAAkB,SAAS,kBAC9B,EAAKC,KAAM,mCAIbA,KAAM,SAAET,GACP,IAAMgB,EAAM,IAAIC,eAChBD,EAAIE,KAAM,OAAQvB,WAAWC,QAAU,WAAaI,GACpDgB,EAAIG,OAAS,WACQ,MAAfH,EAAII,QACRjB,SAASC,UAIXY,EAAIK,SAINf,SAASE,iBAAkB,oBAAoB,WAC9CzB,EAAWC,UAGZ2B,OAAO5B,WAAaA,EArIrB","sources":["webpack://wp-hummingbird/./_src/js/global.js"],"sourcesContent":["/* global wphbGlobal */\n\n( function () {\n\t'use strict';\n\n\tconst WPHBGlobal = {\n\t\tinit() {\n\t\t\tthis.registerClearAllCache();\n\t\t\tthis.registerClearNetworkCache();\n\t\t\tthis.registerClearCacheFromNotice();\n\t\t\tthis.registerClearCloudflare();\n\t\t},\n\n\t\t/**\n\t\t * Clear selected module from admin bar.\n\t\t *\n\t\t * @since 3.0.1\n\t\t *\n\t\t * @param {string} module  Module ID.\n\t\t */\n\t\tclearCache( module ) {\n\t\t\tjQuery\n\t\t\t\t.ajax( {\n\t\t\t\t\turl: wphbGlobal.ajaxurl,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tnonce: wphbGlobal.nonce,\n\t\t\t\t\t\taction: 'wphb_clear_caches',\n\t\t\t\t\t\tmodules: [ module ],\n\t\t\t\t\t},\n\t\t\t\t} )\n\t\t\t\t.done( function () {\n\t\t\t\t\tlocation.reload();\n\t\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Clear all cache from admin bar.\n\t\t *\n\t\t * @since 3.0.1\n\t\t */\n\t\tregisterClearAllCache() {\n\t\t\tconst btn = document.getElementById(\n\t\t\t\t'wp-admin-bar-wphb-clear-all-cache'\n\t\t\t);\n\n\t\t\tif ( ! btn ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbtn.addEventListener( 'click', () =>\n\t\t\t\tthis.post( 'wphb_global_clear_cache' )\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Clear network cache.\n\t\t */\n\t\tregisterClearNetworkCache() {\n\t\t\tconst btn = document.querySelector(\n\t\t\t\t'#wp-admin-bar-wphb-clear-cache-network-wide > a'\n\t\t\t);\n\n\t\t\tif ( ! btn ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbtn.addEventListener( 'click', () => {\n\t\t\t\tif ( 'undefined' === typeof window.WPHB_Admin ) {\n\t\t\t\t\twindow.location.href =\n\t\t\t\t\t\t'/wp-admin/network/admin.php?page=wphb-caching&update=open-ccnw';\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\twindow.SUI.openModal(\n\t\t\t\t\t'ccnw-modal',\n\t\t\t\t\t'wpbody',\n\t\t\t\t\t'ccnw-clear-now'\n\t\t\t\t);\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Clear cache from notice regarding plugin/theme updates.\n\t\t */\n\t\tregisterClearCacheFromNotice() {\n\t\t\tconst btn = document.getElementById(\n\t\t\t\t'wp-admin-notice-wphb-clear-cache'\n\t\t\t);\n\n\t\t\tif ( ! btn ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbtn.addEventListener( 'click', () =>\n\t\t\t\tthis.post( 'wphb_global_clear_cache' )\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Clear Cloudflare browser cache.\n\t\t *\n\t\t * @since 2.7.2\n\t\t */\n\t\tregisterClearCloudflare() {\n\t\t\tconst btn = document.querySelector(\n\t\t\t\t'#wp-admin-bar-wphb-clear-cloudflare > a'\n\t\t\t);\n\n\t\t\tif ( ! btn ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbtn.addEventListener( 'click', () =>\n\t\t\t\tthis.post( 'wphb_front_clear_cloudflare' )\n\t\t\t);\n\t\t},\n\n\t\tpost: ( action ) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open( 'POST', wphbGlobal.ajaxurl + '?action=' + action );\n\t\t\txhr.onload = function () {\n\t\t\t\tif ( xhr.status === 200 ) {\n\t\t\t\t\tlocation.reload();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.send();\n\t\t},\n\t};\n\n\tdocument.addEventListener( 'DOMContentLoaded', function () {\n\t\tWPHBGlobal.init();\n\t} );\n\n\twindow.WPHBGlobal = WPHBGlobal;\n} )();\n"],"names":["WPHBGlobal","init","this","registerClearAllCache","registerClearNetworkCache","registerClearCacheFromNotice","registerClearCloudflare","clearCache","module","jQuery","ajax","url","wphbGlobal","ajaxurl","method","data","nonce","action","modules","done","location","reload","btn","document","getElementById","addEventListener","post","querySelector","window","WPHB_Admin","SUI","openModal","href","xhr","XMLHttpRequest","open","onload","status","send"],"sourceRoot":""}