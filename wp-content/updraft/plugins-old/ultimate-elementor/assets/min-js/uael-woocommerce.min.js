!function(a){var e=function(a,e){if(void 0!==a){var o=a.find(".uael-woo-categories-slider");if(o.length>0){var t=o.find("ul.products"),n=JSON.parse(o.attr("data-cat_slider"));t.slick(n)}}},o=function(a,e){if(void 0!==a){var o=a.find(".uael-woo-products-slider");if(o.length>0){var t=o.find("ul.products"),n=JSON.parse(o.attr("data-woo_slider"));t.slick(n)}elementorFrontend.isEditMode()||(function(a,e){var o=a.data("id"),t=(a.find(".uael-quick-view-btn"),a.find(".uael-quick-view-"+o));t.appendTo(document.body);var n=t.find(".uael-quick-view-bg"),d=t.find("#uael-quick-view-modal"),c=d.find("#uael-quick-view-content"),i=d.find("#uael-quick-view-close"),l=d.find(".uael-content-main-wrapper");l.width(),l.height();a.off("click",".uael-quick-view-btn").on("click",".uael-quick-view-btn",function(a){a.preventDefault();var o=e(this),t=(o.closest("li.product"),o.data("product_id"));d.hasClass("loading")||d.addClass("loading"),n.hasClass("uael-quick-view-bg-ready")||n.addClass("uael-quick-view-bg-ready"),e(document).trigger("uael_quick_view_loading"),r(o,t)}),a.off("click",".uael-quick-view-data").on("click",".uael-quick-view-data",function(a){a.preventDefault();var o=e(this),t=(o.closest("li.product"),o.data("product_id"));d.hasClass("loading")||d.addClass("loading"),n.hasClass("uael-quick-view-bg-ready")||n.addClass("uael-quick-view-bg-ready"),e(document).trigger("uael_quick_view_loading"),r(o,t)});var r=function(a,o){d.css("opacity",0),e.ajax({url:uael_wc_script.ajax_url,data:{action:"uael_woo_quick_view",product_id:o,nonce:uael_wc_script.quick_view_nonce},dataType:"html",type:"POST",success:function(a){c.html(a),s()}})},s=function(){var a=c.find(".variations_form");if(a.trigger("check_variations"),a.trigger("reset_image"),!d.hasClass("open")){d.removeClass("loading").addClass("open");var o=f(),t=e("html");t.css("margin-right",o),t.addClass("uael-quick-view-is-open")}var n=d.find(".variations_form");n.length>0&&"function"==typeof n.wc_variation_form&&(n.wc_variation_form(),n.find("select").change()),c.imagesLoaded(function(a){var e=d.find(".uael-qv-image-slider");e.find("li").length>1?e.flexslider({animation:"slide",start:function(a){setTimeout(function(){u(!0)},300)}}):setTimeout(function(){u(!0)},300)}),e(document).trigger("uael_quick_view_loader_stop")},u=function(a){var e=c,o=e.find(".product .uael-qv-image-slider").first().height(),t=e.find(".product .summary.entry-summary"),n=t.css("content");void 0!==n&&544==n.replace(/[^0-9]/g,"")&&0!=o&&null!==o?t.css("height",o):t.css("height",""),!0===a&&d.css("opacity",1)},f=function(){var a=e('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');e("body").append(a);var o=e("div",a).innerWidth();a.css("overflow-y","scroll");var t=e("div",a).innerWidth();return e(a).remove(),o-t};!function(){l.on("click",function(e){this===e.target&&a()}),e(document).on("keyup",function(e){27===e.keyCode&&a()}),i.on("click",function(e){e.preventDefault(),a()});var a=function(){n.removeClass("uael-quick-view-bg-ready"),d.removeClass("open").removeClass("loading"),e("html").removeClass("uael-quick-view-is-open"),e("html").css("margin-right",""),setTimeout(function(){c.html("")},600)}}(),window.addEventListener("resize",function(a){u()});var _=function(){t.off("click","#uael-quick-view-content .single_add_to_cart_button").off("uael_added_to_cart").on("click","#uael-quick-view-content .single_add_to_cart_button",this.onAddToCart).on("uael_added_to_cart",this.updateButton)};_.prototype.onAddToCart=function(o){o.preventDefault();var n=e(this).closest("form");if(!n[0].checkValidity())return n[0].reportValidity(),!1;var d=e(this),c=e(this).val(),i=(e('input[name="variation_id"]').val(),e('input[name="quantity"]').val());if(a.find(".woocommerce-grouped-product-list-item").length){var l=e("input.qty");i=[],e.each(l,function(a,o){var t=e(this).attr("name");t=(t=t.replace("quantity[","")).replace("]",""),t=parseInt(t),e(this).val()&&(i[t]=e(this).val())})}var r=n.serialize();d.is(".single_add_to_cart_button")&&(d.removeClass("added"),d.addClass("loading"),jQuery.ajax({url:uael_wc_script.ajax_url,type:"POST",data:"action=uael_add_cart_single_product&product_id="+c+"&nonce="+uael_wc_script.add_cart_nonce+"&"+r,success:function(a){e(document.body).trigger("wc_fragment_refresh"),t.trigger("uael_added_to_cart",[d])}}))},_.prototype.updateButton=function(a,o){e(o=void 0!==o&&o)&&(e(o).removeClass("loading"),e(o).addClass("added"),!uael_wc_script.is_cart&&0===e(o).parent().find(".added_to_cart").length&&uael_wc_script.is_single_product&&e(o).after(' <a href="'+uael_wc_script.cart_url+'" class="added_to_cart wc-forward" title="'+uael_wc_script.view_cart+'">'+uael_wc_script.view_cart+"</a>"))},new _}(a,e),function(a,e){if($layout=a.data("widget_type"),"uael-woo-products.grid-franko"===$layout||"uael-woo-products-slider.slider-franko"===$layout){var o=function(){e(document.body).off("click",".uael-product-actions .uael-add-to-cart-btn.product_type_simple").off("uael_product_actions_added_to_cart").on("click",".uael-product-actions .uael-add-to-cart-btn.product_type_simple",this.onAddToCart).on("uael_product_actions_added_to_cart",this.updateButton)};o.prototype.onAddToCart=function(a){a.preventDefault();var o=e(this),t=o.data("product_id");o.find("uael-action-item"),o.removeClass("added"),o.addClass("loading"),jQuery.ajax({url:uael_wc_script.ajax_url,type:"POST",data:{action:"uael_add_cart_single_product",product_id:t,quantity:1,nonce:uael_wc_script.add_cart_nonce},success:function(a){e(document.body).trigger("wc_fragment_refresh"),e(document.body).trigger("uael_product_actions_added_to_cart",[o])}})},o.prototype.updateButton=function(a,o){e(o=void 0!==o&&o)&&(e(o).removeClass("loading"),e(o).addClass("added"))},new o}}(a,e))}},t=function(a,e){var o=a.find(".uael-add-to-cart").data("enable-feature");e("body").off("added_to_cart.uael_cart").on("added_to_cart.uael_cart",function(a,e,o,t){t.closest(".elementor-widget-uael-woo-add-to-cart").length>0&&t.hasClass("uael-redirect")&&setTimeout(function(){!uael_wc_script.is_cart&&t.hasClass("added")&&(window.location=uael_wc_script.cart_url)},200)}),elementorFrontend.isEditMode()||"yes"!==o||function(a,e){if($layout=a.data("widget_type"),"uael-woo-add-to-cart.default"===$layout){var o=a.find(".uael-add-to-cart"),t=function(){e(document.body).off("click",".uael-add-to-cart .single_add_to_cart_button").off("uael_woo_added_to_cart").on("click",".uael-add-to-cart .single_add_to_cart_button",this.onAddToCart).on("uael_woo_added_to_cart",this.updateButton)};t.prototype.onAddToCart=function(t){t.preventDefault();var n=e(this).closest("form");if(!n[0].checkValidity())return n[0].reportValidity(),!1;var d=e(this),c=e(this).val(),i=(e('input[name="variation_id"]').val(),e('input[name="quantity"]').val());if(a.find(".woocommerce-grouped-product-list-item").length){var l=e("input.qty");i=[],e.each(l,function(a,o){var t=e(this).attr("name");t=(t=t.replace("quantity[","")).replace("]",""),t=parseInt(t),e(this).val()&&(i[t]=e(this).val())})}var r=n.serialize();d.is(".single_add_to_cart_button")&&(d.removeClass("added"),d.addClass("loading"),jQuery.ajax({url:uael_wc_script.ajax_url,type:"POST",data:"action=uael_add_cart_single_product&product_id="+c+"&nonce="+uael_wc_script.add_cart_nonce+"&"+r,success:function(a){e(document.body).trigger("wc_fragment_refresh"),o.trigger("uael_woo_added_to_cart",[d])}}))},t.prototype.updateButton=function(a,o){e(o=void 0!==o&&o)&&(e(o).removeClass("loading"),e(o).addClass("added"))},new t}}(a,e)};a(document).off("click",".uael-woocommerce-pagination a.page-numbers").on("click",".uael-woocommerce-pagination a.page-numbers",function(e){if($scope=a(this).closest(".elementor-widget-uael-woo-products"),!$scope.find(".uael-woocommerce").hasClass("uael-woo-query-main")){e.preventDefault(),$scope.find("ul.products").after('<div class="uael-woo-loader"><div class="uael-loader"></div><div class="uael-loader-overlay"></div></div>');var o=$scope.data("id"),t=$scope.find(".uael-woocommerce").data("page"),n=1,d=parseInt($scope.find(".uael-woocommerce-pagination .page-numbers.current").html()),c=$scope.find(".uael-woocommerce").data("skin");n=a(this).hasClass("next")?d+1:a(this).hasClass("prev")?d-1:a(this).html(),a.ajax({url:uael_wc_script.ajax_url,data:{action:"uael_get_products",page_id:t,widget_id:$scope.data("id"),category:"",skin:c,page_number:n,nonce:uael_wc_script.get_product_nonce},dataType:"json",type:"POST",success:function(e){$scope.find(".uael-woo-loader").remove(),a("html, body").animate({scrollTop:$scope.find(".uael-woocommerce").offset().top-30},"slow"),$scope.find(".uael-woo-products-inner ul.products").replaceWith(e.data.html),$scope.find(".uael-woocommerce-pagination").replaceWith(e.data.pagination),a(window).trigger("uael_woocommerce_after_pagination",[t,o])}})}});var n=function(a,e){var o=a.find(".uael-mc__btn"),t=a.find(".uael-mc__btn").data("behaviour"),n=a.find(".uael-mc-modal-wrap"),d=a.find(".uael-mc-offcanvas-wrap"),c=a.find(".uael-mc-dropdown"),i=a.find(".uael-mc-modal"),l=a.find(".uael-mc-offcanvas"),r=a.hasClass("elementor-element-edit-mode")&&a.hasClass("uael-mini-cart--preview-yes"),s=a.find(".uael-mc").data("cart_dropdown");r&&(c.removeClass("uael-mc-dropdown-close"),n.removeClass("uael-mc-modal-wrap-close"),i.removeClass("uael-mc-modal-close"),d.removeClass("uael-mc-offcanvas-wrap-close"),l.removeClass("uael-mc-offcanvas-close")),o.on("click",function(a){a.preventDefault(),"click"===t&&"dropdown"==s&&(c.toggleClass("uael-mc-dropdown-close"),a.stopPropagation()),"modal"==s&&(n.removeClass("uael-mc-modal-wrap-close"),i.removeClass("uael-mc-modal-close"),e(document).on("click",".uael-mc-modal-wrap, .uael-mc-modal__close-btn",function(){var a=e(this).closest(".uael-mc");a.find(".uael-mc-modal-wrap").addClass("uael-mc-modal-wrap-close"),a.find(".uael-mc-modal").addClass("uael-mc-modal-close")})),"offcanvas"==s&&(d.removeClass("uael-mc-offcanvas-wrap-close"),l.removeClass("uael-mc-offcanvas-close"),e(document).on("click",".uael-mc-offcanvas-wrap, .uael-mc-offcanvas__close-btn",function(){var a=e(this).closest(".uael-mc");a.find(".uael-mc-offcanvas-wrap").addClass("uael-mc-offcanvas-wrap-close"),a.find(".uael-mc-offcanvas").addClass("uael-mc-offcanvas-close")}))}),"hover"===t&&(r||(o.hover(function(a){a.preventDefault(),"dropdown"==s&&c.removeClass("uael-mc-dropdown-close")},function(a){a.preventDefault(),"dropdown"==s&&c.addClass("uael-mc-dropdown-close")}),c.hover(function(a){a.preventDefault(),c.removeClass("uael-mc-dropdown-close")},function(a){a.preventDefault(),c.addClass("uael-mc-dropdown-close")}))),e(document).on("keyup",function(a){27==a.keyCode&&e(".elementor-widget-uael-mini-cart").each(function(){var a=e(this);a.find(".uael-mc-modal-wrap").addClass("uael-mc-modal-wrap-close"),a.find(".uael-mc-modal").addClass("uael-mc-modal-close"),a.find(".uael-mc-offcanvas-wrap").addClass("uael-mc-offcanvas-wrap-close"),a.find(".uael-mc-offcanvas").addClass("uael-mc-offcanvas-close")})}),c.on("click",function(a){"A"!=a.target.nodeName||"remove remove_from_cart_button"!=e(a.target).attr("class")?a.stopPropagation():e(this).removeClass("uael-mc-dropdown-close")}),e(document).on("click",function(a){"A"!=a.target.nodeName&&"remove remove_from_cart_button"!=e(a.target).attr("class")&&(c.addClass("uael-mc-dropdown-close"),a.stopPropagation())})};a(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-products.grid-default",o),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-products.grid-franko",o),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-add-to-cart.default",t),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-categories.default",e),elementorFrontend.hooks.addAction("frontend/element_ready/uael-mini-cart.default",n)})}(jQuery);